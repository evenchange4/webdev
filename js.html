<!doctype html>
<html lang="zh_TW">

  <head>
    <meta charset="utf-8">
    <title>學 Javascript</title>
<meta name="description" content="不囉唆學 Javascript reveal.js 製作的 HTML / CSS / JS 投影片。">
<meta name="author" content="MrOrz">
<meta name="email" content="johnsonliang7@gmail.com">
<link rel="stylesheet" href="css/main.css">
<link rel="stylesheet" href="css/styles.css">
<link rel="stylesheet" href="css/sample.css">
<link rel="stylesheet" href="css/jquery-ui.css">
<link rel="stylesheet" href="css/ruler.css">
<link rel="stylesheet" href="lib/zenburn.css">
  </head>

  <body>
    <div id="reveal">
      <div class="slides">
        <p></p>
<p></p>
<p></p>
<p></p>
<section>
<h1>Javascript</h1>
<ul class="nav">
<li><a href="html.html">HTML</a></li>
<li><a href="css.html">CSS</a></li>
<li><a href="advancedjs.html">Advanced JS</a></li>
</ul>
<p></p>
</section>
<section>
<p><img src="images/js/what-js-look-like-1.jpg" alt="1"></p>
<p class="fragment"><img src="images/js/what-js-look-like-2.jpg" alt="2"></p>
<p></p>
</section>
<section>
<h2>長這樣</h2>
<script type="text/x-sample" class="demo small">
    var form = document.getElementById('submitform');
    form.addEventListener('submit', function(e){
      var checkbox = document.getElementById('tos');
      if(!checkbox.checked){
        alert('請詳閱出師表。');
        e.preventDefault();
      }
    });

</script>
<p></p>
<ul class="fragment">
<li>Javascript 操作 DOM (HTML 的 API) 的範例。</li>
<li><code>document</code> 是 DOM 物件，<br><code>getElementById</code>, <code>addEventListener</code> 是 DOM 方法。</li>
<li>變數需要<a href="?variable">事先定義</a>，但不指定型別。</li>
</ul>
<p></p>
</section>
<section class="chapter">
<h2>牛刀小試</h2>
<p></p>
</section>
<section>
<section>
<h2>怎麼寫</h2>
<p><code>ctrl + shift + j</code> 打開 Javascript Console。</p>
<p></p>
<p><img src="images/js/console.png" alt="Javascript console">。</p>
<p></p>
<p>輸入一行 Javascript (黑色)，輸出一行回傳值 （藍色）</p>
<p></p>
<p>試試 <code>3+2</code>, <code>Math.sin(Math.PI)</code>, <code>0.1 + 0.2</code></p>
<p></p>
</section>
<section id="variable">
<h2>變數與型別</h2>
<ul>
<li>Javascript 為弱型別（weak typing）語言</li>
<li>用 <code>var</code> 敘述定義變數</li>
<li>變數可以是任何型態的東西<br><code>var a = 3</code>：<code>a</code> 的型態會是 <code>number</code></li>
<li>大小寫有差</li>
</ul>
<p></p>
<pre><code><!--
-->var a = &quot;str&quot;, A; // a != A
a = 3; // 換型態
<!--
--></code></pre>
<p></p>
</section>
<section>
<h2>運算子</h2>
<ul>
<li>負數 : <code>-</code> (如 <code>-35</code>)</li>
<li>算數 : <code>*</code> &nbsp; <code>/</code> &nbsp; <code>%</code> &nbsp; <code>+</code> &nbsp; <code>-</code></li>
<li>比大小 : <code>===</code>  &nbsp; <code>!==</code>  &nbsp; <code>&lt;</code>  &nbsp; <code>&gt;</code>  &nbsp; <code>&lt;=</code> &nbsp;  <code>&gt;=</code></li>
<li>邏輯運算 : <code>&amp;&amp;</code> &nbsp;  <code>||</code> &nbsp;  <code>!</code></li>
<li>三元運算子 : <code>? :</code></li>
<li>指派 : <code>=</code> &nbsp; <code>+=</code> &nbsp; <code>-=</code> &nbsp; <code>*=</code> &nbsp; <code>/=</code> &nbsp; <code>%=</code></li>
</ul>
<p></p>
<p></p>
</section>
<section>
<h2>文字與數字</h2>
<ul>
<li>數字 <code>+</code> 數字 是加法。</li>
<li>數字 <code>+</code> 字串、字串 <code>+</code> 數字、字串 <code>+</code> 字串：字串串接</li>
</ul>
<p></p>
<p><img src="images/js/string-number.png" alt="字串加數字等於字串"></p>
<hr>
<p></p>
<p><code>parseInt(str, base)</code>, <code>parseFloat(str, base)</code> : 文字轉數字</p>
<p><img src="images/js/parseInt.png" alt="parseInt"></p>
<p></p>
</section>
<section>
<h2>輸出文字</h2>
<ul>
<li><code>console.log(東西)</code> → <b>寫進 Console。</b><br> 若東西是陣列或物件，可以看到內容。</li>
<li><code>document.write(東西)</code> → <b>把東西轉成字串，寫進 HTML。</b></li>
</ul>
<hr>
<p></p>
<p class="fragment">通常<strong>不會</strong>使用 <code>document.write</code>。<br> 這個教學網頁用 <code>document.write</code> 印出資料當作示例，但開發時一般用更方便的 <code>console.log</code>。</p>
<p></p>
</section>
<section>
<h2>JavaSCRIPT</h2>
<p>寫在一個檔案裡面，才有「腳本」的 FU</p>
<p></p>
<p><div class="fragment"></p>
<p>用 <code>&lt;script type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</code> 包住，放在 HTML 裡</p>
<p></p>
<script type="text/x-sample" class="html">
        &lt;script type="text/javascript"&gt;
          document.write("script 標籤裡好溫暖喔 (羞)");
        &lt;/script&gt;

</script>
<p></div></p>
<p></p>
</section>
<section>
<h2>Javascript file</h2>
<p></p>
<ul>
<li>另外寫成一個 *.js 檔</li>
<li><code>&lt;script type=&quot;text/javascript&quot; src=&quot;路徑與檔名&quot;&gt;&lt;/script&gt;</code></li>
</ul>
<p></p>
<script type="text/x-sample" class="html">
        &lt;script type="text/javascript" src="sample/included.js"&gt;&lt;/script&gt;
        <p>我是內文</p>

</script>
<p></p>
<p class="fragment"><code>&lt;script&gt;</code> 寫在 <code>&lt;head&gt;</code> 或 <code>&lt;body&gt;</code> 裡都可以。<br>瀏覽器一讀到就會立即執行（Load-and-go）。</p>
<p></p>
</section>
<section>
<h2>Javascript file (續)</h2>
<p>JS 檔和 HTML 檔同目錄</p>
<p><img src="images/js/js-hierachy.jpg" alt="JS 檔案結構"></p>
<p></p>
<p>執行結果：</p>
<p><img src="images/js/js-test.jpg" alt="JS 檔案結構"></p>
<p></p>
</section>
<section>
<h2>Javascript file (續)</h2>
<p>JS 檔和 HTML 檔不同目錄</p>
<p><img src="images/js/js-hierachy2.jpg" alt="JS 檔案結構"></p>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>JS 和 C 很像</h2>
<p>程式流程控制方面</p>
<p></p>
</section>
<section>
<section>
<h2><code>if</code> 條件</h2>
<p></p>
<p><code>if</code>-<code>else if</code>-<code>else</code>-<code>endif</code></p>
<p></p>
<script type="text/x-sample">
      var year = 2012;
      if(year % 400 === 0){
        document.write('閏年');
      }else if(year % 100 === 0){
        document.write('不是閏年');
      }else if(year % 4 === 0){
        document.write('閏年');
      }else{
        document.write('不是閏年');
      }

</script>
<p></p>
</section>
<section>
<h2>迴圈</h2>
<p><code>for</code>, <code>while</code>, <code>break</code></p>
<p></p>
<p>迴圈前可以加上 label 如下：</p>
<p></p>
<pre data-lang="javascript"><code><!--
-->outerLoop: for(;;){
  ……
    if(...){
      break outerLoop;
    }
  ……
}
<!--
--></code></pre>
<p></p>
<p></p>
</section>
<section>
<h2>switch case</h2>
<p>記得 <code>break;</code></p>
<p></p>
<script type="text/x-sample">
      var name = "董允", comment;
      switch(name){
        case '郭攸之':
        case '費依':
        case '董允':
          comment = '此皆良實，志慮忠純';
          break;
        case '向寵':
          comment = '試用之於昔日，先帝稱之曰「能」';
          break;
        default:
          comment = '親賢臣，遠小人，此先漢所以興隆也';
      }
      document.write(comment);

</script>
<p></p>
</section>
<section>
<h2>註解</h2>
<p></p>
<p><code>/* 多行 */</code> 與 <code>// 單行</code></p>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>JS 又和 C 不一樣</h2>
<p>型態與其他</p>
<p></p>
</section>
<section>
<p></p>
<section id="reserved">
<h2>保留字</h2>
<p>不能當作變數名稱、屬性名稱的字。</p>
<p>abstract boolean <code>break</code> byte <code>case</code> <code>catch</code> char class const <code>continue</code></p>
<p>debugger <code>default</code> <code>delete</code> <code>do</code> double <code>else</code> enum export extends</p>
<p><code>false</code> final finally float <code>for</code> <code>function</code></p>
<p>goto <code>if</code> implements import <code>in</code> <code>instanceof</code> int</p>
<p>interface long native <code>new</code> <code>null</code> package private protected public <code>return</code></p>
<p>short static super <code>switch</code> synchronized</p>
<p><code>this</code> <code>throw</code> throws transient <code>true</code> <code>try</code> <code>typeof</code></p>
<p><code>var</code> volatile <code>void</code> <code>while</code> <code>with</code></p>
<p></p>
</section>
<section>
<h2>特殊值</h2>
<p><code>NaN</code>: Not a number，不是數字。</p>
<script type="text/x-sample">
        document.write(
          26 + parseInt('二十四個比利', 10) );

</script>
<p></p>
<p><code>undefined</code>: 未定義。變數的預設值、function 預設的回傳值。</p>
<script type="text/x-sample">
        var hey, noop = function(){};
        document.write(hey + '<br>');
        document.write(noop());

</script>
<p></p>
<p><code>null</code>: 什麼都不是。</p>
<p></p>
</section>
<section>
<h2>String 字串</h2>
<ul>
<li>單引號(")、雙引號(')效果相同</li>
<li><code>\&apos;</code>,  <code>\&quot;</code>, <code>\\</code>,  <code>\n</code></li>
<li><code>length</code> 屬性：長度</li>
<li>無法修改字串 (immutable)。</li>
<li>UCS-2 編碼 （UTF-16 的前身）</li>
<li><a href="http://www.w3schools.com/jsref/jsref_obj_string.asp" target="_blank">屬性與方法</a></li>
</ul>
<p></p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var str = "侍中尚書、長史、參軍，此悉貞良死節之臣也";

      str[11] = "庛";
      document.write( str[11] + '<br>' );
      document.write( str.split("、") + '<br>');
      document.write( str.slice(11) + '<br>' );

</script>
<p></p>
</section>
<section>
<h2>Function 函數</h2>
<p></p>
<p>建一個函數：</p>
<p><code>function 函式名 (引數們) { ... }</code></p>
<p><code>var 函數名 = function (引數們) { ... }</code></p>
<p></p>
<p>呼叫一個函數：</p>
<p><code>函數名(要傳的引數)</code></p>
<p></p>
<ul class="fragment">
<li>函數可以像變數一樣被丟來丟去。</li>
<li>無法像 C 那樣指定引數預設值。</li>
<li>呼叫時引數的個數，和函數定義的引數個數可以不一樣。</li>
</ul>
<p></p>
</section>
<section>
<h2>Function 函數</h2>
<p></p>
<script type="text/x-sample" class="small">
      // eachOf：
      // 將 array 裡的每個東西都丟進 func 當引數
      var eachOf = function(array, func){
        for(var i = 0; i < array.length; i+=1){
          func(array[i]);
        }
      }

      eachOf(["棋盤", "稿紙", "綠豆糕"], function(item){
        document.write('啊，好似' + item + '似的！');
      });

</script>
<p></p>
<p>把 function 當成引數傳給另一個 function，<br>在綁定 event handler （或稱 callback function ) 時很常用</p>
<p></p>
</section>
<section>
<h2>Object 物件</h2>
<p><code>{name1: value1, name2: value2, ……}</code></p>
<p></p>
<ul>
<li>value 可以是函數</li>
<li>函數裡 <code>this</code> 指自己這個物件</li>
<li>可以隨時幫 object 增加成員</li>
</ul>
<p></p>
<script type="text/x-sample" class="small">
      var person = {
        name: "董允",
        comment: "志慮忠純，是以先帝簡拔以遺陛下。",
        reward: function(){
          // this：
          document.write("臣" + this.name + "謝皇上賜賞。")
        }
      };

      // 增添「職位」
      person.position = "侍中";
      person.reward("田地"); // 引數長度和定義可以不一樣
      console.log('person:', person);

</script>
<p></p>
</section>
<section>
<h2>Object 物件</h2>
<p>用 key 存取物件內的 value：<code>object.key</code> 或 <code>object[&quot;key&quot;]</code></p>
<p></p>
<script type="text/x-sample">
      var person = {
        name: "董允",
        comment: "志慮忠純，是以先帝簡拔以遺陛下。",
        reward: function(){
          document.write("臣" + this.name + "謝皇上賜賞。")
        }
      };

      document.write(person.name + '<br>');
      document.write(person['name'] + '<br>');
      person['reward']();

</script>
<p></p>
<p>key 為<a href="?reserved">保留字</a>時請用 <code>object[&quot;key&quot;]</code></p>
<p></p>
</section>
<section>
<h2>Array 陣列</h2>
<p><code>[元素1, ……, 元素N]</code></p>
<ul>
<li>元素不一定要都同一種型態</li>
<li>length 為陣列長度</li>
<li>陣列是一種物件（陣列繼承自物件）。</li>
</ul>
<p></p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var arr = [3.14, "任意文字", {text: "物件"}, ["另一個", "陣列"]];
      for(var i=0; i<arr.length; i+=1){
        document.write( arr[i] + '<br>');
      }
      document.write('<hr>');
      document.write('陣列長度：' + arr.length + '<br>');
      document.write(arr.pop() + '<br>');
      document.write('pop 後陣列：' + arr);

</script>
<p></p>
<p></p>
</section>
<section>
<h2>Array method</h2>
<ul>
<li><code>join(sep)</code> 把每個元素轉成字串，用分隔字元 <code>sep</code> 接起來。</li>
<li><code>push(item...)</code> 將 <code>item</code> 附加到末端，回傳新長度。</li>
<li><code>pop()</code> 移除並回傳最後一個元素。</li>
<li>詳見 <a href="http://www.w3schools.com/jsref/jsref_obj_array.asp" target="_blank">W3Schools</a></li>
</ul>
<p></p>
<script type="text/x-sample" data-lang="javascript">
      var names = ['郭攸之', '費依'];
      names.push('董允');
      document.write(names.join('、') + '，此皆良實，志慮忠純。');

</script>
<p></p>
</section>
<section>
<h2>Just for reference</h2>
<p></p>
<p>Javascript 物件變數（含陣列）只存 reference。</p>
<p>於是 <code>物件 === 物件</code> 結果很微妙。</p>
<p></p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var obj = {name: "value"},
          obj2 = obj;

      // obj, obj2 reference 相同
      // obj 和新建的物件 reference 不同，即使值都一樣，
      // === operator 還是把它認作不同。
      
      document.write([
        'obj === obj2 :',   obj === obj2,           '<br>',
        'obj === {...} :' , obj === {name: "value"}
      ].join(''));

</script>
<p></p>
<p>Javascript 沒有原生的 Object <code>equals</code> 方法。</p>
<p>比較兩個 Javascript Object 是否每個 name、value 相同，<a href="http://stackoverflow.com/questions/201183/how-do-you-determine-equality-for-two-javascript-objects" target="_blank">其實很麻煩</a>。</p>
<p></p>
</section>
<section>
<h2>Pass-by-reference</h2>
<p></p>
<p>Javascript 物件變數當引數時，為 pass-by-reference。</p>
<p>其他型態，如 Number，則是 pass-by-value。</p>
<script type="text/x-sample" class="small" data-lang="javascript">
      var num = 3.14,             // Number
          arr = [ "任意文字" ];   // Array

      // 蓋一個 function，把 arr、num 傳進去修改
      var alter = function(a, n){
        a[0] = "隨便文字"; n = 1.618;
      };

      // 呼叫這個 function
      alter(arr, num);

      // 看 arr, num 有沒有被修改
      document.write([
        'arr:', arr, '<br>',
        'num:', num
      ].join(''));

</script>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>DOM Window</h2>
<p></p>
</section>
<section>
<section>
<h2>window object</h2>
<p>Javascript 裡有個變數是一切的根源。</p>
<p><code>window</code> 就是根源。</p>
<p> <img src="images/js/window.png" alt="Javascript console 印出 window object" height="400"></p>
<p></p>
</section>
<section>
<h2>時間到</h2>
<p><code>setTimeout(callback, t)</code> 會在 <code>t</code> ms 後執行 <code>callback</code>。<br>回傳一個 handle。</p>
<p><code>clearTimeout(handle)</code> 取消此倒數。</p>
<p></p>
<script type="text/x-sample" data-lang="javascript">
      document.write('多想兩分鐘');
      setTimeout(
        function(){
          document.write(
            '你可以不用浪費兩分鐘。'
          );
        },
        60*2*1000
      );

</script>
<p></p>
</section>
<section>
<h2>網址相關</h2>
<p><code>location.href</code>, <code>location.hash</code></p>
<p></p>
<script type="text/x-sample" data-lang="javascript">
      document.write([
        'href: ', location.href, '<br>',
        'hash: ', location.hash
      ].join(''));

</script>
<p></p>
<p>傳值進去會重新整理瀏覽器頁面。</p>
<p></p>
</section>
<section>
<h2>彈出式視窗</h2>
<p><code>alert</code>, <code>confirm</code>, <code>prompt</code></p>
<p></p>
<script type="text/x-sample" data-lang="javascript">
      var answer;
      // answer = confirm('綠豆糕像不像稿紙？');
      if(answer){
        // alert('很像。');
      }else{
        // alert('不像。');
      }

</script>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>jQuery</h2>
<p>替你操控 DOM (HTML 的 API)</p>
<p></p>
</section>
<section>
<section>
<h2>開始用 jQuery</h2>
<p></p>
<p>神秘咒語</p>
<pre><code><!--
-->&lt;script type=&quot;text/javascript&quot;
 src=&quot;https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js&quot;&gt;
&lt;/script&gt;
<!--
--></code></pre>
<p></p>
<p>然後施魔法</p>
<p></p>
<script type="text/x-sample" class="small html">
      <p></p>

      &lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"&gt;&lt;/script&gt;
      &lt;script type="text/javascript"&gt;
        $('p').text('jQuery 好 Q!');
      &lt;/script&gt;

</script>
<p></p>
</section>
<section>
<h2>大改造!! 劇的 Before After</h2>
<p>物件 5927：不方便的 API</p>
<script type="text/x-sample" class="demo-dom-native small" data-lang="javascript">
      // 偵測是否同意出師表
      var form = document.querySelector('#submitform');

      form.addEventListener('submit', function(e){
        if(!document.querySelector('#tos').checked){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      });

      // 增加推薦人
      document.querySelector('.add-referral')
              .addEventListener('click', function(){

        // 開一個 buffer，建立下面架構：
        /*
          <p>
            <input type="text" name="referral">
            <a class="del" href="javascript:;">刪除</a>
          </p>
        */
        var buffer = document.createDocumentFragment(),
            p      = buffer.appendChild(
                        document.createElement('p')),
            txt    = p.appendChild(
                        document.createElement('input')),
            del    = p.appendChild(
                        document.createElement('a'));

        txt.setAttribute('type', 'text');
        txt.setAttribute('name', 'referral');
        del.setAttribute('class', 'del');
        del.setAttribute('href', 'javascript:;');
        del.innerHTML = '刪除';

        // 把 buffer 內容塞進 DOM
        document.querySelector('#referrals')
                .appendChild(buffer);
      });

      // 刪除推薦人
      form.addEventListener('click', function(e){
        // 若 'click' 事件來自 <a class="del">
        if(e.target.className === 'del'){
          // 把包著 <a class="del"> 之 <p> 整個移除。
          var p = e.target.parentNode;
          p.parentNode.removeChild(p);
        }
      });

</script>
<p></p>
<p>DOM 這個 API 很長，相當困擾。</p>
<p></p>
</section>
<section>
<h2>匠：jQuery</h2>
<p></p>
<h3>SPEC</h3>
<p></p>
<ul>
<li>表單送出時，檢查是否接受出師表</li>
<li>按「增加推薦人」時，蓋一個下面的東西：</li>
</ul>
<pre class="small" style="width: 400px; margin: 0 auto 1em;"><code><!--
-->&lt;p&gt;
  &lt;input type=&quot;text&quot; name=&quot;referral&quot;&gt;
  &lt;a class=&quot;del&quot;&gt;刪除&lt;/a&gt;
&lt;/p&gt;
<!--
--></code></pre>
<ul>
<li>按裡頭的「刪除」時，把整個 <code>&lt;p&gt;</code> 移除。</li>
</ul>
<p></p>
<h3>希望</h3>
<p>寫少一點，作到的事情更多。</p>
<p></p>
</section>
<section>
<h2>BEFORE</h2>
<script type="text/x-sample" class="demo-dom-native small">
      var form = document.querySelector('#submitform');

      // 偵測是否同意出師表
      form.addEventListener('submit', function(e){
        if(!document.querySelector('#tos').checked){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      });

      // 增加推薦人
      document.querySelector('.add-referral')
              .addEventListener('click', function(){

        // 開一個 buffer，建立下面架構：
        var buffer = document.createDocumentFragment(),
            p      = buffer.appendChild(
                        document.createElement('p')),
            txt    = p.appendChild(
                        document.createElement('input')),
            del    = p.appendChild(
                        document.createElement('a'));

        txt.setAttribute('type', 'text');
        txt.setAttribute('name', 'referral');
        del.setAttribute('class', 'del');
        del.setAttribute('href', 'javascript:;');
        del.innerHTML = '刪除';

        // 把 buffer 內容塞進 DOM
        document.querySelector('#referrals')
                .appendChild(buffer);
      });

      // 刪除推薦人
      form.addEventListener('click', function(e){
        // 若 'click' 事件來自 <a class="del">
        if(e.target.className === 'del'){
          // 把包著 <a class="del"> 之 <p> 整個移除。
          var p = e.target.parentNode;
          p.parentNode.removeChild(p);
        }
      });

</script>
<p></p>
</section>
<section>
<h2>AFTER</h2>
<p></p>
<p><iframe width="150" height="40" style="position: absolute; right: 0; top: 0; opacity: 0.1;" src="http://www.youtube.com/embed/E9gfiTAhScM?rel=0" frameborder="0"></iframe></p>
<p></p>
<p>なんということでしょう!</p>
<p></p>
<script type="text/x-sample" class="demo-dom-jquery small" data-lang="javascript">
      $('#submitform').on('submit', function(e){
        // 偵測是否同意出師表
        if(!$('#tos').attr('checked')){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      }).on('click', '.del', function(){
        // 刪除推薦人
        // 把包著 <a class="del"> 之 <p> 整個移除。
        $(this).parents('p').remove();
      });

      // 增加推薦人
      $('.add-referral').on('click', function(){
        // 把下面內容塞進 DOM
        $('<p><input type="text" name="referral"><a class="del">刪除</a></p>').appendTo('#referrals');
      });

</script>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>jQuery Object</h2>
<p></p>
</section>
<section>
<section>
<h2>神奇的 <code>$</code></h2>
<p></p>
<pre data-lang="javascript" style="width: 220px; margin: 0 auto 1em;"><code><!--
-->$(SELECTOR)
<!--
--></code></pre>
<p></p>
<ul>
<li><code>$</code> 是一個 function。</li>
<li>傳入 <a href="http://api.jquery.com/category/selectors/" target="_blank">css selector</a> → 回傳找到的 element</li>
<li>傳入 HTML tag → 回傳新蓋的 element</li>
</ul>
<hr>
<p></p>
<p>element 被包在 jQuery obejct 裡頭。</p>
<p></p>
<p><img src="images/js/jqObj.png" alt="obj" height="190"></p>
<p></p>
</section>
<section>
<h2>jQuery Object</h2>
<p></p>
<p><img src="images/js/jqObj.png" alt="obj" width="900"></p>
<p></p>
<ul>
<li>看起來像陣列</li>
<li>有 length 屬性</li>
<li>有<a href="http://api.jquery.com" target="_blank">很多 method</a> 可以用</li>
</ul>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>jQuery API</h2>
<p></p>
</section>
<section>
<section>
<h2>Manipulation</h2>
<p>操弄 DOM 結構與屬性</p>
<p></p>
<ul>
<li><a href="http://api.jquery.com/category/css/" target="_blank">讀取 / 新增 class 或 CSS style</a></li>
<li><a href="http://api.jquery.com/category/attributes/" target="_blank">讀取 / 新增 / 移除屬性</a></li>
<li>在 <a href="http://api.jquery.com/category/manipulation/dom-insertion-inside/" target="_blank">裡面</a> <a href="http://api.jquery.com/category/manipulation/dom-insertion-outside/" target="_blank">旁邊</a> 插入/移除 DOM element</li>
<li><a href="http://api.jquery.com/category/manipulation/dom-insertion-around/" target="_blank">包覆</a>目前 DOM element</li>
</ul>
<hr>
<p></p>
<p><a href="http://api.jquery.com/category/manipulation/" target="_blank">Manipulation - jQuery API</a></p>
<p></p>
</section>
<section>
<h2>Manipulation</h2>
<p></p>
<script type="text/x-sample" class="html small maxheight">
      &lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"&gt;&lt;/script&gt;

      <style type="text/css">
        p{
          border: 20px solid yellow;
          margin: 20px; padding: 20px;
        }
        .clearstyle{
          border: 0; margin: 0; font: 20px monospace;
        }
      </style>

      <p>我只是個 p。</p>

      &lt;script type="text/javascript" &gt;
        var old_p = $('p');

        // 複製原本的 <p>，加上 class
        var new_p = old_p.clone().addClass('clearstyle');

        // 設定新的 <p> 的內容
        new_p.html([
          'innerWidth: ', old_p.innerWidth(), '<br>',
          'outerWidth: ', old_p.outerWidth()
        ].join(''));

        // 設定 HTML element 屬性
        new_p.attr('title', '請拿左上角的尺');

        // 把新的 <p> 插入 DOM element
        old_p.after(new_p);
      &lt;/script&gt;

</script>
<p></p>
<p><a href="http://api.jquery.com/clone/" target="_blank"><code>.clone()</code></a> <a href="http://api.jquery.com/innerWidth/" target="_blank"><code>.innerWidth()</code></a> <a href="http://api.jquery.com/attr/" target="_blank"><code>.attr()</code></a> <a href="http://api.jquery.com/after/" target="_blank"><code>.after()</code></a></p>
<p></p>
</section>
<section>
<h2>Traversing</h2>
<p>從目前 element 找到另一個 element</p>
<p></p>
<ul>
<li><a href="http://api.jquery.com/category/traversing/tree-traversal/" target="_blank">找親戚</a></li>
<li><a href="http://api.jquery.com/category/traversing/filtering/" target="_blank">過濾</a>目前的 jQuery object</li>
</ul>
<hr>
<p></p>
<p><a href="http://api.jquery.com/category/traversing/" target="_blank">Traversing - jQuery API</a></p>
<p></p>
</section>
<section>
<h2>Traversing</h2>
<p></p>
<script type="text/x-sample" class="html small maxheight">

      &lt;script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"&gt;&lt;/script&gt;

      <style type="text/css">
        p{
          padding: 1em; margin: 1em;
        }
        .border1 {
          border: 1px solid blue;
        }
        .border2 {
          border: 1px solid green;
        }
        .bg{
          background: #cfc;
        }
      </style>

      <section>
        Section 裡頭。
        <article>
          article  裡頭。
          <p>
            p 裡頭。
          </p>
          <p></p>
        </article>
      </section>

      &lt;script type="text/javascript"&gt;
        $('p').parents('section').addClass('border1');
        $('section').find('p').addClass('border2');
        $('section').find('p').not(':empty').addClass('bg');
      &lt;/script&gt;


</script>
<p><a href="http://api.jquery.com/parents/" target="_blank"><code>.parents()</code></a> <a href="http://api.jquery.com/find/" target="_blank"><code>.find()</code></a> <a href="http://api.jquery.com/not/" target="_blank"><code>.not()</code></a></p>
<p></p>
</section>
<section>
<h2>Events</h2>
<p>互動的主要要素。</p>
<p></p>
<p><code>$物件.on(&apos;事件&apos;, handler)</code></p>
<p><code>$物件.on(&apos;事件&apos;, selector, handler)</code></p>
<hr>
<p></p>
<p><a href="http://api.jquery.com/category/events/" target="_blank">Events - jQuery API</a></p>
<p></p>
</section>
<section>
<h2>Events</h2>
<p></p>
<p><code>$物件.on(&apos;事件&apos;, handler)</code></p>
<p><code>$物件.on(&apos;事件&apos;, selector, handler)</code></p>
<p></p>
<script type="text/x-sample" class="demo-dom-jquery small" data-lang="javascript">
      $('#submitform').on('submit', function(e){
        // 偵測是否同意出師表
        if(!$('#tos').attr('checked')){
          alert('請詳閱出師表。');
          e.preventDefault();
        }
      }).on('click', '.del', function(){
        // 刪除推薦人
        // 把包著 <a class="del"> 之 <p> 整個移除。
        $(this).parents('p').remove();
      });

      // 增加推薦人
      $('.add-referral').on('click', function(){
        // 把下面內容塞進 DOM
        $('<p><input type="text" name="referral"><a class="del">刪除</a></p>').appendTo('#referrals');
      });

</script>
<p></p>
<p><a href="http://api.jquery.com/on/" target="_blank"><code>.on()</code></a>  <a href="http://api.jquery.com/off/" target="_blank"><code>.off()</code></a></p>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>jQuery UI</h2>
<p></p>
<p><a href="http://jqueryui.com/demos/" target="_blank">jQuery UI</a></p>
<p></p>
</section>
<section>
<section>
<h2>jQuery UI</h2>
<p></p>
<ul>
<li><a href="http://jqueryui.com/demos/sortable/" target="_blank">拖曳等等</a>的互動</li>
<li><a href="http://jqueryui.com/demos/dialog/" target="_blank">對話視窗</a>之類的 Widgets</li>
<li>更多<a href="http://jqueryui.com/demos/show/" target="_blank">特效</a></li>
</ul>
<p></p>
</section>
</section>
<p></p>
<section class="chapter">
<h2>Debugging</h2>
<p></p>
</section>
<section>
<section>
<h2>console.log</h2>
<ul>
<li>物件可能會被更動</li>
</ul>
<p></p>
<script type="text/x-sample">
      var arr = ['棋盤', '稿紙', '綠豆糕'];
      console.log('arr: ', arr);
      arr.shift(); // 移除第 0 個
      console.log('shift 之後：arr: ', arr);

</script>
<p></p>
</section>
<section>
<h2>中斷點</h2>
<ul>
<li>開發人員工具的「Scripts」 面板</li>
<li>選擇要 debug 的檔案</li>
<li>中斷時可用 console</li>
<li>"Pause on uncaught exception" 按鈕</li>
</ul>
<p><img src="images/js/pausebutton.png" alt="pause"></p>
<p></p>
</section>
</section>
<p></p>
<section>
<h1>THE END</h1>
<p></p>
<ul class="nav">
<li><a href="html.html">HTML</a></li>
<li><a href="css.html">CSS</a></li>
<li><a href="js.html">Javascript</a></li>
<li><a href="advancedjs.html">Advanced JS</a></li>
</section>
</ul>
      </div>

      <!-- The navigational controls UI -->
      <aside class="controls">
        <a class="left" href="#">&#x25C4;</a>
        <a class="right" href="#">&#x25BA;</a>
        <a class="up" href="#">&#x25B2;</a>
        <a class="down" href="#">&#x25BC;</a>
      </aside>

      <!-- Displays presentation progress, max value changes via JS to reflect # of slides -->
      <div class="progress"><span></span></div>

    </div>
    <script type="text/javascript" src="js/jquery.min.js"></script>
<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.8.16/jquery-ui.min.js"></script>
<script type="text/javascript" src="js/reveal.js"></script>
<script type="text/javascript" src="lib/highlight.js"></script>
<script type="text/javascript" src="js/sample.js"></script>
<script type="text/javascript" src="js/init-js.js"></script>
<script type="text/javascript" src="js/index.js"></script>
<script type="text/javascript" src="js/ruler.js"></script>
  </body>

</html>
